(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},82427,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(55436),i=e.i(84614),r=e.i(75254);let n=(0,r.default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),l=(0,r.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var c=e.i(15288),o=e.i(99676),d=e.i(87486),m=e.i(75157);let p=[{id:"kojo-ai",participantId:"kojo",participantName:"Kojo AI",participantAvatar:void 0,participantRole:"AI Assistant",lastMessage:"How can I help you with NIC regulations today?",lastMessageTime:new Date().toISOString(),unreadCount:0,isOnline:!0,type:"ai"},{id:"conv-1",participantId:"user-2",participantName:"Ama Serwaa",participantAvatar:void 0,participantRole:"Branch Manager",lastMessage:"Got the approval for the Osei policy.",lastMessageTime:new Date(Date.now()-36e5).toISOString(),unreadCount:2,isOnline:!0,type:"direct"},{id:"conv-2",participantId:"user-3",participantName:"Kofi Adom",participantAvatar:void 0,participantRole:"Senior Broker",lastMessage:"Checking the fire claim on CLM-084.",lastMessageTime:new Date(Date.now()-864e6).toISOString(),unreadCount:0,isOnline:!1,type:"direct",linkedResourceId:"clm-084",linkedResourceType:"claim"},{id:"group-1",participantId:"branch-1",participantName:"Branch Operations",participantAvatar:void 0,participantRole:"Group Chat",lastMessage:"Kofi: New fire claim registered.",lastMessageTime:new Date(Date.now()-18e6).toISOString(),unreadCount:5,isOnline:!0,type:"group"}],u={"kojo-ai":[{id:"m1",senderId:"kojo",content:"Hello Kwame! I'm Kojo, your IBMS AI Assistant. I've been trained on NIC Ghana regulations and your brokerage's standard operating procedures.",timestamp:new Date(Date.now()-1e5).toISOString(),status:"read"},{id:"m2",senderId:"kojo",content:"How can I help you with policy lookups, regulation queries, or system tasks today?",timestamp:new Date(Date.now()-9e4).toISOString(),status:"read"}],"conv-1":[{id:"m3",senderId:"user-2",content:"Hi Kwame, did you see the update on the Osei Motor Comprehensive policy?",timestamp:new Date(Date.now()-72e5).toISOString(),status:"read"},{id:"m4",senderId:"1",content:"Looking at it now. Everything seems in order.",timestamp:new Date(Date.now()-7e6).toISOString(),status:"read"},{id:"m5",senderId:"user-2",content:"Perfect. I've already notified the client.",timestamp:new Date(Date.now()-38e5).toISOString(),status:"read"},{id:"m6",senderId:"user-2",content:"Got the approval for the Osei policy.",timestamp:new Date(Date.now()-36e5).toISOString(),status:"delivered"}],"group-1":[{id:"gm1",senderId:"user-2",content:"Team, can we review the monthly targets for our branch?",timestamp:new Date(Date.now()-864e5).toISOString(),status:"read"},{id:"gm2",senderId:"user-3",content:"Sure Ama. I'm finishing up the fire claim registration first.",timestamp:new Date(Date.now()-216e5).toISOString(),status:"read"},{id:"gm3",senderId:"user-3",content:"New fire claim registered.",timestamp:new Date(Date.now()-18e6).toISOString(),status:"delivered"}]};function x({activeId:e,onSelect:a}){return(0,t.jsxs)(c.Card,{padding:"none",className:"flex flex-col h-full bg-surface-50/30 border-surface-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-surface-200 bg-white",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Search,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-surface-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search team members...",className:"w-full h-10 pl-9 pr-4 text-sm bg-surface-50 border border-surface-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto py-2 px-2 space-y-1",children:[(0,t.jsx)("p",{className:"px-3 pt-2 pb-1 text-[10px] font-bold text-surface-400 uppercase tracking-widest",children:"Team communication"}),p.map(s=>(0,t.jsxs)("button",{onClick:()=>a(s.id),className:(0,m.cn)("w-full flex items-center gap-3 p-3 rounded-xl transition-all cursor-pointer group",e===s.id?"bg-primary-600 text-white shadow-lg shadow-primary-500/20":"hover:bg-white hover:shadow-md text-surface-900 border border-transparent hover:border-surface-200"),children:[(0,t.jsxs)("div",{className:"relative shrink-0",children:[(0,t.jsx)(o.Avatar,{name:s.participantName,size:"md",className:"ai"===s.type?e===s.id?"bg-white text-primary-600":"bg-primary-500 text-white":void 0,icon:"ai"===s.type?(0,t.jsx)(n,{size:20}):(0,t.jsx)(i.User,{size:20})}),s.isOnline&&(0,t.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-success-500 border-2 border-white rounded-full"})]}),(0,t.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-bold text-sm truncate",children:s.participantName}),(0,t.jsx)("span",{className:(0,m.cn)("text-[9px] font-medium opacity-60",e===s.id?"text-white":"text-surface-500"),children:new Date(s.lastMessageTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:(0,m.cn)("text-xs truncate font-medium",e===s.id?"text-primary-50":"text-surface-500"),children:s.lastMessage}),s.unreadCount>0&&e!==s.id&&(0,t.jsx)(d.Badge,{variant:"primary",className:"h-4 min-w-[16px] px-1 justify-center text-[9px] font-bold",children:s.unreadCount})]})]})]},s.id))]}),(0,t.jsx)("div",{className:"p-4 border-t border-surface-200 bg-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Avatar,{name:"Kwame Asante",size:"sm"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-surface-900 truncate",children:"Kwame Asante"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(l,{size:8,className:"fill-success-500 text-success-500"}),(0,t.jsx)("span",{className:"text-[10px] text-surface-500 font-bold uppercase tracking-tighter",children:"Active"})]})]})]})})]})}let h=(0,r.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),f=(0,r.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),g=(0,r.default)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var y=e.i(98919),j=e.i(78583),w=e.i(19455);function b({conversation:e}){let[s,r]=(0,a.useState)([]),[l,d]=(0,a.useState)(""),p=(0,a.useRef)(null);return(0,a.useEffect)(()=>{r(u[e.id]||[])},[e.id]),(0,a.useEffect)(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[s]),(0,t.jsxs)(c.Card,{padding:"none",className:"flex flex-col h-full overflow-hidden bg-white border-surface-200",children:[(0,t.jsxs)("div",{className:"border-b border-surface-100 bg-surface-50/50",children:[(0,t.jsx)("div",{className:"px-6 py-4 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Avatar,{name:e.participantName,size:"md",icon:"ai"===e.type?(0,t.jsx)(n,{size:20}):(0,t.jsx)(i.User,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-surface-900",children:e.participantName}),(0,t.jsxs)("p",{className:"text-[10px] text-surface-500 font-medium uppercase tracking-tight",children:[e.participantRole," â€¢ ",e.isOnline?"Active Now":"Offline"]})]})]})}),e.linkedResourceId&&(0,t.jsxs)("div",{className:"px-6 py-2 bg-primary-50 border-t border-primary-100 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1 bg-white rounded-md border border-primary-200 text-primary-600",children:"claim"===e.linkedResourceType?(0,t.jsx)(y.Shield,{size:14}):(0,t.jsx)(j.FileText,{size:14})}),(0,t.jsxs)("span",{className:"text-[11px] font-bold text-primary-900 uppercase tracking-tight",children:["Discussing ",e.linkedResourceType,": ",e.linkedResourceId]})]}),(0,t.jsx)(w.Button,{variant:"outline",size:"sm",className:"h-7 text-[10px] font-bold uppercase tracking-wider px-3 border-primary-200 text-primary-700 hover:bg-primary-100",onClick:()=>{let t="claim"===e.linkedResourceType?"claims":"policies";window.location.href=`/dashboard/${t}/${e.linkedResourceId}`},children:"View Case"})]})]}),(0,t.jsx)("div",{ref:p,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-[url('/grid-light.svg')] bg-repeat",children:s.map(e=>{let a="1"===e.senderId;return(0,t.jsx)("div",{className:(0,m.cn)("flex w-full mb-2 animate-in fade-in slide-in-from-bottom-2 duration-300",a?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:(0,m.cn)("max-w-[80%] rounded-2xl px-4 py-3 shadow-md",a?"bg-primary-600 text-white rounded-tr-none shadow-primary-500/10":"bg-surface-100 text-surface-900 rounded-tl-none border border-surface-200"),children:[(0,t.jsx)("p",{className:"text-sm leading-relaxed",children:e.content}),(0,t.jsxs)("div",{className:(0,m.cn)("mt-1 flex items-center gap-1.5 text-[9px] font-medium opacity-70",a?"justify-end":"justify-start"),children:[(0,t.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a&&(0,t.jsx)("span",{className:"capitalize",children:e.status})]})]})},e.id)})}),(0,t.jsx)("form",{onSubmit:t=>{t.preventDefault(),l.trim()&&(r([...s,{id:Date.now().toString(),content:l,senderId:"1",timestamp:new Date().toISOString(),status:"sent"}]),d(""),"ai"===e.type&&setTimeout(()=>{let e={id:(Date.now()+1).toString(),content:"I'm processing that for you. As your IBMS assistant, I recommend checking Section 12 of the NIC guidelines regarding this specific policy type.",senderId:"kojo",timestamp:new Date().toISOString(),status:"read"};r(t=>[...t,e])},1e3))},className:"p-4 border-t border-surface-100 bg-white shadow-2xl shadow-surface-900/10",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"button",className:"p-2 text-surface-400 hover:text-primary-600 transition-colors",children:(0,t.jsx)(f,{size:20})}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"ai"===e.type?"Ask Kojo about policies...":"Type a message...",className:"w-full h-11 pl-4 pr-12 bg-surface-50 border border-surface-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-400 hover:text-primary-600",children:(0,t.jsx)(g,{size:18})})]}),(0,t.jsx)(w.Button,{type:"submit",size:"sm",className:"h-11 w-11 rounded-xl shadow-lg shadow-primary-500/20 p-0 flex items-center justify-center transition-transform active:scale-95",disabled:!l.trim(),children:(0,t.jsx)(h,{size:18,className:"translate-x-0.5 -translate-y-0.5"})})]})})]})}let v=(0,r.default)("message-square-off",[["path",{d:"M19 19H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.7.7 0 0 1 2 21.286V5a2 2 0 0 1 1.184-1.826",key:"1wyg69"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.656 3H20a2 2 0 0 1 2 2v11.344",key:"mhl4k6"}]]);var N=e.i(18566);function k(){let e=(0,N.useSearchParams)(),s=e.get("linkedId"),i=e.get("linkedType"),r=p.find(e=>e.linkedResourceId?.toLowerCase()===s?.toLowerCase()&&e.linkedResourceType===i)||p[0],[n,l]=(0,a.useState)(r.id),o=p.find(e=>e.id===n)||p[0];return(0,t.jsxs)("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-surface-900 tracking-tight",children:"Messages"}),(0,t.jsx)("p",{className:"text-sm text-surface-500 mt-1",children:"Internal team communication and AI assistance."})]}),(0,t.jsxs)("div",{className:"flex-1 flex gap-6 overflow-hidden",children:[(0,t.jsx)("div",{className:"w-80 shrink-0 h-full",children:(0,t.jsx)(x,{activeId:n,onSelect:l})}),(0,t.jsx)("div",{className:"flex-1 h-full min-w-0",children:o?(0,t.jsx)(b,{conversation:o}):(0,t.jsxs)(c.Card,{className:"h-full flex flex-col items-center justify-center text-center p-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-surface-100 rounded-full flex items-center justify-center mb-4 text-surface-400",children:(0,t.jsx)(v,{size:32})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-surface-900",children:"No conversation selected"}),(0,t.jsx)("p",{className:"text-sm text-surface-500 max-w-xs mt-1",children:"Select a team member or Kojo AI to start messaging."})]})})]})]})}e.s(["default",()=>k],82427)}]);