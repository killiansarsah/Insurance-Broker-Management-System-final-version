{"name":"modern-animated-sign-in","type":"registry:block","dependencies":["motion","lucide-react"],"registryDependencies":[],"files":[{"path":"/components/blocks/modern-animated-sign-in.tsx","content":"'use client';\nimport {\n  memo,\n  ReactNode,\n  useState,\n  ChangeEvent,\n  FormEvent,\n  useEffect,\n  useRef,\n  forwardRef,\n} from 'react';\nimport Image from 'next/image';\nimport {\n  motion,\n  useAnimation,\n  useInView,\n  useMotionTemplate,\n  useMotionValue,\n} from 'motion/react';\nimport { Eye, EyeOff } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\n// ==================== Input Component ====================\n\nconst Input = memo(\n  forwardRef(function Input(\n    { className, type, ...props }: React.InputHTMLAttributes<HTMLInputElement>,\n    ref: React.ForwardedRef<HTMLInputElement>\n  ) {\n    const radius = 100; // change this to increase the radius of the hover effect\n    const [visible, setVisible] = useState(false);\n\n    const mouseX = useMotionValue(0);\n    const mouseY = useMotionValue(0);\n\n    function handleMouseMove({\n      currentTarget,\n      clientX,\n      clientY,\n    }: React.MouseEvent<HTMLDivElement>) {\n      const { left, top } = currentTarget.getBoundingClientRect();\n\n      mouseX.set(clientX - left);\n      mouseY.set(clientY - top);\n    }\n\n    return (\n      <motion.div\n        style={{\n          background: useMotionTemplate`\n        radial-gradient(\n          ${visible ? radius + 'px' : '0px'} circle at ${mouseX}px ${mouseY}px,\n          #3b82f6,\n          transparent 80%\n        )\n      `,\n        }}\n        onMouseMove={handleMouseMove}\n        onMouseEnter={() => setVisible(true)}\n        onMouseLeave={() => setVisible(false)}\n        className='group/input rounded-lg p-[2px] transition duration-300'\n      >\n        <input\n          type={type}\n          className={cn(\n            `shadow-input dark:placeholder-text-neutral-600 flex h-10 w-full rounded-md border-none bg-gray-50 px-3 py-2 text-sm text-black transition duration-400 group-hover/input:shadow-none file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-400 focus-visible:ring-[2px] focus-visible:ring-neutral-400 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-zinc-800 dark:text-white dark:shadow-[0px_0px_1px_1px_#404040] dark:focus-visible:ring-neutral-600`,\n            className\n          )}\n          ref={ref}\n          {...props}\n        />\n      </motion.div>\n    );\n  })\n);\n\nInput.displayName = 'Input';\n\n// ==================== BoxReveal Component ====================\n\ntype BoxRevealProps = {\n  children: ReactNode;\n  width?: string;\n  boxColor?: string;\n  duration?: number;\n  overflow?: string;\n  position?: string;\n  className?: string;\n};\n\nconst BoxReveal = memo(function BoxReveal({\n  children,\n  width = 'fit-content',\n  boxColor,\n  duration,\n  overflow = 'hidden',\n  position = 'relative',\n  className,\n}: BoxRevealProps) {\n  const mainControls = useAnimation();\n  const slideControls = useAnimation();\n  const ref = useRef(null);\n  const isInView = useInView(ref, { once: true });\n\n  useEffect(() => {\n    if (isInView) {\n      slideControls.start('visible');\n      mainControls.start('visible');\n    } else {\n      slideControls.start('hidden');\n      mainControls.start('hidden');\n    }\n  }, [isInView, mainControls, slideControls]);\n\n  return (\n    <section\n      ref={ref}\n      style={{\n        position: position as\n          | 'relative'\n          | 'absolute'\n          | 'fixed'\n          | 'sticky'\n          | 'static',\n        width,\n        overflow,\n      }}\n      className={className}\n    >\n      <motion.div\n        variants={{\n          hidden: { opacity: 0, y: 75 },\n          visible: { opacity: 1, y: 0 },\n        }}\n        initial='hidden'\n        animate={mainControls}\n        transition={{ duration: duration ?? 0.5, delay: 0.25 }}\n      >\n        {children}\n      </motion.div>\n      <motion.div\n        variants={{ hidden: { left: 0 }, visible: { left: '100%' } }}\n        initial='hidden'\n        animate={slideControls}\n        transition={{ duration: duration ?? 0.5, ease: 'easeIn' }}\n        style={{\n          position: 'absolute',\n          top: 4,\n          bottom: 4,\n          left: 0,\n          right: 0,\n          zIndex: 20,\n          background: boxColor ?? '#5046e6',\n          borderRadius: 4,\n        }}\n      />\n    </section>\n  );\n});\n\n// ==================== Ripple Component ====================\n\ntype RippleProps = {\n  mainCircleSize?: number;\n  mainCircleOpacity?: number;\n  numCircles?: number;\n  className?: string;\n};\n\nconst Ripple = memo(function Ripple({\n  mainCircleSize = 210,\n  mainCircleOpacity = 0.24,\n  numCircles = 11,\n  className = '',\n}: RippleProps) {\n  return (\n    <section\n      className={`max-w-[50%] absolute inset-0 flex items-center justify-center\n        dark:bg-white/5 bg-neutral-50\n        [mask-image:linear-gradient(to_bottom,black,transparent)]\n        dark:[mask-image:linear-gradient(to_bottom,white,transparent)] ${className}`}\n    >\n      {Array.from({ length: numCircles }, (_, i) => {\n        const size = mainCircleSize + i * 70;\n        const opacity = mainCircleOpacity - i * 0.03;\n        const animationDelay = `${i * 0.06}s`;\n        const borderStyle = i === numCircles - 1 ? 'dashed' : 'solid';\n        const borderOpacity = 5 + i * 5;\n\n        return (\n          <span\n            key={i}\n            className='absolute animate-ripple rounded-full bg-foreground/15 border'\n            style={{\n              width: `${size}px`,\n              height: `${size}px`,\n              opacity: opacity,\n              animationDelay: animationDelay,\n              borderStyle: borderStyle,\n              borderWidth: '1px',\n              borderColor: `var(--foreground) dark:var(--background) / ${\n                borderOpacity / 100\n              })`,\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n            }}\n          />\n        );\n      })}\n    </section>\n  );\n});\n\n// ==================== OrbitingCircles Component ====================\n\ntype OrbitingCirclesProps = {\n  className?: string;\n  children: ReactNode;\n  reverse?: boolean;\n  duration?: number;\n  delay?: number;\n  radius?: number;\n  path?: boolean;\n};\n\nconst OrbitingCircles = memo(function OrbitingCircles({\n  className,\n  children,\n  reverse = false,\n  duration = 20,\n  delay = 10,\n  radius = 50,\n  path = true,\n}: OrbitingCirclesProps) {\n  return (\n    <>\n      {path && (\n        <svg\n          xmlns='http://www.w3.org/2000/svg'\n          version='1.1'\n          className='pointer-events-none absolute inset-0 size-full'\n        >\n          <circle\n            className='stroke-black/10 stroke-1 dark:stroke-white/10'\n            cx='50%'\n            cy='50%'\n            r={radius}\n            fill='none'\n          />\n        </svg>\n      )}\n      <section\n        style={\n          {\n            '--duration': duration,\n            '--radius': radius,\n            '--delay': -delay,\n          } as React.CSSProperties\n        }\n        className={cn(\n          'absolute flex size-full transform-gpu animate-orbit items-center justify-center rounded-full border bg-black/10 [animation-delay:calc(var(--delay)*1000ms)] dark:bg-white/10',\n          { '[animation-direction:reverse]': reverse },\n          className\n        )}\n      >\n        {children}\n      </section>\n    </>\n  );\n});\n\n// ==================== TechOrbitDisplay Component ====================\n\ntype IconConfig = {\n  className?: string;\n  duration?: number;\n  delay?: number;\n  radius?: number;\n  path?: boolean;\n  reverse?: boolean;\n  component: () => React.ReactNode;\n};\n\ntype TechnologyOrbitDisplayProps = {\n  iconsArray: IconConfig[];\n  text?: string;\n};\n\nconst TechOrbitDisplay = memo(function TechOrbitDisplay({\n  iconsArray,\n  text = 'Animated Login',\n}: TechnologyOrbitDisplayProps) {\n  return (\n    <section className='relative flex h-full w-full flex-col items-center justify-center overflow-hidden rounded-lg'>\n      <span className='pointer-events-none whitespace-pre-wrap bg-gradient-to-b from-black to-gray-300/80 bg-clip-text text-center text-7xl font-semibold leading-none text-transparent dark:from-white dark:to-slate-900/10'>\n        {text}\n      </span>\n\n      {iconsArray.map((icon, index) => (\n        <OrbitingCircles\n          key={index}\n          className={icon.className}\n          duration={icon.duration}\n          delay={icon.delay}\n          radius={icon.radius}\n          path={icon.path}\n          reverse={icon.reverse}\n        >\n          {icon.component()}\n        </OrbitingCircles>\n      ))}\n    </section>\n  );\n});\n\n// ==================== AnimatedForm Component ====================\n\ntype FieldType = 'text' | 'email' | 'password';\n\ntype Field = {\n  label: string;\n  required?: boolean;\n  type: FieldType;\n  placeholder?: string;\n  onChange: (event: ChangeEvent<HTMLInputElement>) => void;\n};\n\ntype AnimatedFormProps = {\n  header: string;\n  subHeader?: string;\n  fields: Field[];\n  submitButton: string;\n  textVariantButton?: string;\n  errorField?: string;\n  fieldPerRow?: number;\n  onSubmit: (event: FormEvent<HTMLFormElement>) => void;\n  googleLogin?: string;\n  goTo?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n};\n\ntype Errors = {\n  [key: string]: string;\n};\n\nconst AnimatedForm = memo(function AnimatedForm({\n  header,\n  subHeader,\n  fields,\n  submitButton,\n  textVariantButton,\n  errorField,\n  fieldPerRow = 1,\n  onSubmit,\n  googleLogin,\n  goTo,\n}: AnimatedFormProps) {\n  const [visible, setVisible] = useState<boolean>(false);\n  const [errors, setErrors] = useState<Errors>({});\n\n  const toggleVisibility = () => setVisible(!visible);\n\n  const validateForm = (event: FormEvent<HTMLFormElement>) => {\n    const currentErrors: Errors = {};\n    fields.forEach((field) => {\n      const value = (event.target as HTMLFormElement)[field.label]?.value;\n\n      if (field.required && !value) {\n        currentErrors[field.label] = `${field.label} is required`;\n      }\n\n      if (field.type === 'email' && value && !/\\S+@\\S+\\.\\S+/.test(value)) {\n        currentErrors[field.label] = 'Invalid email address';\n      }\n\n      if (field.type === 'password' && value && value.length < 6) {\n        currentErrors[field.label] =\n          'Password must be at least 6 characters long';\n      }\n    });\n    return currentErrors;\n  };\n\n  const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const formErrors = validateForm(event);\n\n    if (Object.keys(formErrors).length === 0) {\n      onSubmit(event);\n      console.log('Form submitted');\n    } else {\n      setErrors(formErrors);\n    }\n  };\n\n  return (\n    <section className='max-md:w-full flex flex-col gap-4 w-96 mx-auto'>\n      <BoxReveal boxColor='var(--skeleton)' duration={0.3}>\n        <h2 className='font-bold text-3xl text-neutral-800 dark:text-neutral-200'>\n          {header}\n        </h2>\n      </BoxReveal>\n\n      {subHeader && (\n        <BoxReveal boxColor='var(--skeleton)' duration={0.3} className='pb-2'>\n          <p className='text-neutral-600 text-sm max-w-sm dark:text-neutral-300'>\n            {subHeader}\n          </p>\n        </BoxReveal>\n      )}\n\n      {googleLogin && (\n        <>\n          <BoxReveal\n            boxColor='var(--skeleton)'\n            duration={0.3}\n            overflow='visible'\n            width='unset'\n          >\n            <button\n              className='g-button group/btn bg-transparent w-full rounded-md border h-10 font-medium outline-hidden hover:cursor-pointer'\n              type='button'\n              onClick={() => console.log('Google login clicked')}\n            >\n              <span className='flex items-center justify-center w-full h-full gap-3'>\n                <Image\n                  src='https://cdn1.iconfinder.com/data/icons/google-s-logo/150/Google_Icons-09-512.png'\n                  width={26}\n                  height={26}\n                  alt='Google Icon'\n                />\n                {googleLogin}\n              </span>\n\n              <BottomGradient />\n            </button>\n          </BoxReveal>\n\n          <BoxReveal boxColor='var(--skeleton)' duration={0.3} width='100%'>\n            <section className='flex items-center gap-4'>\n              <hr className='flex-1 border-1 border-dashed border-neutral-300 dark:border-neutral-700' />\n              <p className='text-neutral-700 text-sm dark:text-neutral-300'>\n                or\n              </p>\n              <hr className='flex-1 border-1 border-dashed border-neutral-300 dark:border-neutral-700' />\n            </section>\n          </BoxReveal>\n        </>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <section\n          className={`grid grid-cols-1 md:grid-cols-${fieldPerRow} mb-4`}\n        >\n          {fields.map((field) => (\n            <section key={field.label} className='flex flex-col gap-2'>\n              <BoxReveal boxColor='var(--skeleton)' duration={0.3}>\n                <Label htmlFor={field.label}>\n                  {field.label} <span className='text-red-500'>*</span>\n                </Label>\n              </BoxReveal>\n\n              <BoxReveal\n                width='100%'\n                boxColor='var(--skeleton)'\n                duration={0.3}\n                className='flex flex-col space-y-2 w-full'\n              >\n                <section className='relative'>\n                  <Input\n                    type={\n                      field.type === 'password'\n                        ? visible\n                          ? 'text'\n                          : 'password'\n                        : field.type\n                    }\n                    id={field.label}\n                    placeholder={field.placeholder}\n                    onChange={field.onChange}\n                  />\n\n                  {field.type === 'password' && (\n                    <button\n                      type='button'\n                      onClick={toggleVisibility}\n                      className='absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5'\n                    >\n                      {visible ? (\n                        <Eye className='h-5 w-5' />\n                      ) : (\n                        <EyeOff className='h-5 w-5' />\n                      )}\n                    </button>\n                  )}\n                </section>\n\n                <section className='h-4'>\n                  {errors[field.label] && (\n                    <p className='text-red-500 text-xs'>\n                      {errors[field.label]}\n                    </p>\n                  )}\n                </section>\n              </BoxReveal>\n            </section>\n          ))}\n        </section>\n\n        <BoxReveal width='100%' boxColor='var(--skeleton)' duration={0.3}>\n          {errorField && (\n            <p className='text-red-500 text-sm mb-4'>{errorField}</p>\n          )}\n        </BoxReveal>\n\n        <BoxReveal\n          width='100%'\n          boxColor='var(--skeleton)'\n          duration={0.3}\n          overflow='visible'\n        >\n          <button\n            className='bg-gradient-to-br relative group/btn from-zinc-200 dark:from-zinc-900\n            dark:to-zinc-900 to-zinc-200 block dark:bg-zinc-800 w-full text-black\n            dark:text-white rounded-md h-10 font-medium shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] \n              dark:shadow-[0px_1px_0px_0px_var(--zinc-800)_inset,0px_-1px_0px_0px_var(--zinc-800)_inset] outline-hidden hover:cursor-pointer'\n            type='submit'\n          >\n            {submitButton} &rarr;\n            <BottomGradient />\n          </button>\n        </BoxReveal>\n\n        {textVariantButton && goTo && (\n          <BoxReveal boxColor='var(--skeleton)' duration={0.3}>\n            <section className='mt-4 text-center hover:cursor-pointer'>\n              <button\n                className='text-sm text-blue-500 hover:cursor-pointer outline-hidden'\n                onClick={goTo}\n              >\n                {textVariantButton}\n              </button>\n            </section>\n          </BoxReveal>\n        )}\n      </form>\n    </section>\n  );\n});\n\nconst BottomGradient = () => {\n  return (\n    <>\n      <span className='group-hover/btn:opacity-100 block transition duration-500 opacity-0 absolute h-px w-full -bottom-px inset-x-0 bg-gradient-to-r from-transparent via-cyan-500 to-transparent' />\n      <span className='group-hover/btn:opacity-100 blur-sm block transition duration-500 opacity-0 absolute h-px w-1/2 mx-auto -bottom-px inset-x-10 bg-gradient-to-r from-transparent via-indigo-500 to-transparent' />\n    </>\n  );\n};\n\n// ==================== AuthTabs Component ====================\n\ninterface AuthTabsProps {\n  formFields: {\n    header: string;\n    subHeader?: string;\n    fields: Array<{\n      label: string;\n      required?: boolean;\n      type: string;\n      placeholder: string;\n      onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    }>;\n    submitButton: string;\n    textVariantButton?: string;\n  };\n  goTo: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  handleSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nconst AuthTabs = memo(function AuthTabs({\n  formFields,\n  goTo,\n  handleSubmit,\n}: AuthTabsProps) {\n  return (\n    <div className='flex max-lg:justify-center w-full md:w-auto'>\n      {/* Right Side */}\n      <div className='w-full lg:w-1/2 h-[100dvh] flex flex-col justify-center items-center max-lg:px-[10%]'>\n        <AnimatedForm\n          {...formFields}\n          fieldPerRow={1}\n          onSubmit={handleSubmit}\n          goTo={goTo}\n          googleLogin='Login with Google'\n        />\n      </div>\n    </div>\n  );\n});\n\n// ==================== Label Component ====================\n\ninterface LabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {\n  htmlFor?: string;\n}\n\nconst Label = memo(function Label({ className, ...props }: LabelProps) {\n  return (\n    <label\n      className={cn(\n        'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n        className\n      )}\n      {...props}\n    />\n  );\n});\n\n// ==================== Exports ====================\n\nexport {\n  Input,\n  BoxReveal,\n  Ripple,\n  OrbitingCircles,\n  TechOrbitDisplay,\n  AnimatedForm,\n  AuthTabs,\n  Label,\n  BottomGradient,\n};\n","type":"registry:block","target":""}],"cssVars":{"light":{"--background":"hsl(0, 0%, 100%)","--foreground":"hsl(0, 0%, 0%)","--skeleton":"hsl(0, 0%, 90%)","--border":"hsl(220, 20%, 90%)","--btn-border":"hsl(214deg, 31.8%, 91.4%)","--input":"hsl(220, 20%, 90%)","--radius":"0.5rem"},"dark":{"--background":"hsl(222, 94%, 5%)","--foreground":"hsl(0, 0%, 100%)","--skeleton":"hsl(218, 36%, 16%)","--border":"hsl(220, 20%, 90%)","--btn-border":"hsl(217deg, 32.6%, 17.5%)","--input":"hsl(219, 63%, 16%)","--radius":"0.5rem"},"theme":{"animate-ripple":"ripple 2s ease calc(var(--i, 0) * 0.2s) infinite","animate-orbit":"orbit calc(var(--duration) * 1s) linear infinite"}},"css":{"@keyframes ripple":{"0%, 100%":{"transform":"translate(-50%, -50%) scale(1)"},"50%":{"transform":"translate(-50%, -50%) scale(0.9)"}},"@keyframes orbit":{"0%":{"transform":"rotate(0deg) translateY(calc(var(--radius) * 1px)) rotate(0deg)"},"100%":{"transform":"rotate(360deg) translateY(calc(var(--radius) * 1px)) rotate(-360deg)"}}},"tailwind":{"config":{"theme":{"extend":{"colors":{"background":"var(--background)","foreground":"var(--foreground)","skeleton":"var(--skeleton)","border":"var(--btn-border)","input":"var(--input)"},"borderRadius":{"DEFAULT":"0.5rem"},"boxShadow":{"input":"0px 2px 3px -1px rgba(0, 0, 0, 0.1), 0px 1px 0px 0px rgba(25, 28, 33, 0.02), 0px 0px 0px 1px rgba(25, 28, 33, 0.08)"},"animation":{"ripple":"ripple 2s ease calc(var(--i, 0) * 0.2s) infinite","orbit":"orbit calc(var(--duration) * 1s) linear infinite"},"keyframes":{"ripple":{"0%, 100%":{"transform":"translate(-50%, -50%) scale(1)"},"50%":{"transform":"translate(-50%, -50%) scale(0.9)"}},"orbit":{"0%":{"transform":"rotate(0deg) translateY(calc(var(--radius) * 1px)) rotate(0deg)"},"100%":{"transform":"rotate(360deg) translateY(calc(var(--radius) * 1px)) rotate(-360deg)"}}}}}}}}
